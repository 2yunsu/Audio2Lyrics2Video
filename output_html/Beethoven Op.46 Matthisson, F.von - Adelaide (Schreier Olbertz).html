
    <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beethoven Op.46 Matthisson, F.von - Adelaide (Schreier Olbertz).mp4 Video Player</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #f4f4f4;
    }
    video {
      width: 80%;
      margin-top: 20px;
      position: relative;
    }
    .subtitles {
      width: 80%;
      margin-top: 20px;
      background: white;
      padding: 10px;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    .subtitle {
      margin: 5px 0;
    }
    .subtitle a {
      color: #007BFF;
      text-decoration: none;
    }
    .subtitle a:hover {
      text-decoration: underline;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <video id="video" controls>
    <source src= "Beethoven Op.46 Matthisson, F.von - Adelaide (Schreier Olbertz).mp4" type="video/mp4">
    <track id="subtitle-track" label="Deutsch" kind="subtitles" srclang="de" src="BrahmsOp.32.vtt" default>
    Your browser does not support the video tag.
  </video>

  <div class="subtitles" id="subtitles"></div>

  <script>
    // SRT data
    const srtData = "00:00:00,000 --> 00:00:27,120\nEinsam wandelt dein Freund Einsam wandelt dein Freund\n\n\n00:00:27,120 --> 00:00:30,760\nSilbergl\u00f6ckchen des Mais im\n\n\n00:00:31,360 --> 00:00:38,320\nMild vom lieblichen Zauberlicht Mild vom lieblichen Zauberlicht Mild vom lieblichen Zauberlicht umflossen,\n\n\n00:00:38,320 --> 00:00:49,740\nDas durch wankende Bl\u00fctenzweige Das durch wankende Bl\u00fctenzweige Das durch wankende Bl\u00fctenzweige zittert,\n\n\n00:00:53,360 --> 00:00:56,320\nAdelaide!\n\n\n00:00:57,120 --> 00:01:03,240\nAdelaide!\n\n\n00:01:03,240 --> 00:01:10,180\nIn der spiegelnden Flut, In der spiegelnden Flut,\n\n\n00:01:10,700 --> 00:01:16,460\nIm Gefilde der Sterne In der spiegelnden Flut,\n\n\n00:01:17,480 --> 00:01:23,240\nIn des sinkenden Tages In des sinkenden Tages In des sinkenden Tages Goldgew\u00f6lken,\n\n\n00:01:23,240 --> 00:01:26,920\nIm Gefilde der Sterne\n\n\n00:01:27,120 --> 00:01:33,120\nIm Gefilde der Sterne Einsam wandelt dein Freund Im Gefilde der Sterne strahlt dein Bildnis,\n\n\n00:01:33,120 --> 00:01:41,120\nEinsam wandelt dein Freund Adelaide!\n\n\n00:01:41,120 --> 00:01:51,120\nIn des sinkenden Tages In des sinkenden Tages In des sinkenden Tages Goldgew\u00f6lken,\n\n\n00:01:51,120 --> 00:01:55,240\nIm Gefilde der Sterne\n\n\n00:01:55,240 --> 00:01:56,240\nIm Gefilde der Sterne\n\n\n00:01:56,240 --> 00:01:57,100\nIm Gefilde der Sterne In der spiegelnden Flut,\n\n\n00:01:57,100 --> 00:01:58,600\nIm Gefilde der Sterne\n\n\n00:01:58,600 --> 00:02:02,620\nIn des sinkenden Tages In des sinkenden Tages In des sinkenden Tages Goldgew\u00f6lken,\n\n\n00:02:02,620 --> 00:02:02,920\nAdelaide!\n\n\n00:02:02,920 --> 00:02:12,100\nAdelaide!\n\n\n00:02:12,100 --> 00:02:19,700\nAdelaide!\n\n\n00:02:19,700 --> 00:02:21,100\nAdelaide!\n\n\n00:02:21,100 --> 00:02:24,840\nAdelaide!\n\n\n00:02:24,840 --> 00:02:25,720\nAdelaide!\n\n\n00:02:25,720 --> 00:02:26,120\nAdelaide!\n\n\n00:02:26,120 --> 00:02:26,220\nAdelaide!\n\n\n00:02:26,220 --> 00:02:26,460\nAdelaide!\n\n\n00:02:26,460 --> 00:02:26,720\nAdelaide!\n\n\n00:02:26,720 --> 00:02:26,760\nAdelaide!\n\n\n00:02:26,760 --> 00:02:26,800\nAdelaide!\n\n\n00:02:26,800 --> 00:02:27,060\nAdelaide!\n\n\n00:02:27,100 --> 00:02:39,100\nLament Im Gefilde der Sterne Abendl\u00fcfte im zarten Laube br\u00fcsteren,\n\n\n00:02:39,100 --> 00:02:52,100\nSilbergl\u00f6ckchen des Mais im Silbergl\u00f6ckchen des Mais im Silbergl\u00f6ckchen des Mais im Grase s\u00e4useln, Silbergl\u00f6ckchen des Mais im Grase s\u00e4useln,\n\n\n00:02:52,100 --> 00:03:02,100\nWellen rauschen und Nachtigallen Wellen rauschen und Nachtigallen die Wellen rauschen und Nachtigallen fl\u00f6ten: Wellen rauschen und Nachtigallen fl\u00f6ten:\n\n\n00:03:02,100 --> 00:03:16,100\nWellen rauschen und Nachtigallen Wellen rauschen und Nachtigallen die Wellen rauschen und Nachtigallen fl\u00f6ten: Wellen rauschen und Nachtigallen fl\u00f6ten:\n\n\n00:03:16,100 --> 00:03:21,100\nAdelaide!\n\n\n00:03:22,100 --> 00:03:32,100\nLament Im Gefilde der Sterne Abendl\u00fcfte im zarten Laube br\u00fcsteren,\n\n\n00:03:32,100 --> 00:03:38,100\nSilbergl\u00f6ckchen des Mais im Silbergl\u00f6ckchen des Mais im Silbergl\u00f6ckchen des Mais im Grase s\u00e4useln, Silbergl\u00f6ckchen des Mais im Grase s\u00e4useln,\n\n\n00:03:38,100 --> 00:03:44,100\nWellen rauschen und Nachtigallen Wellen rauschen und Nachtigallen die Wellen rauschen und Nachtigallen fl\u00f6ten: Wellen rauschen und Nachtigallen fl\u00f6ten:\n\n\n00:03:44,100 --> 00:03:48,100\nWellen rauschen und Nachtigallen die Wellen rauschen und Nachtigallen fl\u00f6ten: Wellen rauschen und Nachtigallen fl\u00f6ten:\n\n\n00:03:48,100 --> 00:03:50,100\nAdelaide!\n\n\n00:03:50,100 --> 00:03:54,100\nAdelaide!\n\n\n00:03:54,100 --> 00:04:02,100\nAdelaide!\n\n\n00:04:06,100 --> 00:04:14,100\nEinst, o Wunder! entbl\u00fcht Einst, o Wunder! entbl\u00fcht wundend Deutlich schimmert auf jedem Einst, o Wunder! entbl\u00fcht auf meinem Grabe Grabe,\n\n\n00:04:14,100 --> 00:04:18,100\nEinst, o Wunder! entbl\u00fcht Einst, o Wunder! entbl\u00fcht wundend Deutlich schimmert auf jedem Einst, o Wunder! entbl\u00fcht auf meinem Grabe Grabe,\n\n\n00:04:18,100 --> 00:04:22,100\nEinst, o Wunder! entbl\u00fcht Einst, o Wunder! entbl\u00fcht wundend Deutlich schimmert auf jedem Einst, o Wunder! entbl\u00fcht auf meinem Grabe Grabe,\n\n\n00:04:22,100 --> 00:04:27,100\nEine Blume der Asche Eine Blume der Asche Eine Blume der Asche meines Herzens; Eine Blume der Asche meines Herzens;\n\n\n00:04:27,100 --> 00:04:28,100\nEine Blume der Asche Eine Blume der Asche Eine Blume der Asche meines Herzens; Eine Blume der Asche meines Herzens;\n\n\n00:04:28,100 --> 00:04:32,100\nEine Blume der Asche Eine Blume der Asche meines Herzens; Deutlich schimmert auf jedem Deutlich schimmert auf jedem\n\n\n00:04:32,100 --> 00:04:36,100\nDeutlich schimmert auf jedem Deutlich schimmert auf jedem Pudelbl\u00e4ttchen.\n\n\n00:04:36,100 --> 00:04:38,100\nDeutlich schimmert auf jedem Deutlich schimmert auf jedem Pudelbl\u00e4ttchen.\n\n\n00:04:38,100 --> 00:04:42,100\nDeutlich schimmert auf jedem Pudelbl\u00e4ttchen.\n\n\n00:04:42,100 --> 00:04:44,100\nDeutlich schimmert auf jedem Pudelbl\u00e4ttchen.\n\n\n00:04:44,100 --> 00:04:46,100\nDeutlich schimmert auf jedem Pudelbl\u00e4ttchen.\n\n\n00:04:46,100 --> 00:05:06,160\nAdelaide! Einst, o Wunder! entbl\u00fcht Einst, o Wunder! entbl\u00fcht Einst, o Wunder! entbl\u00fcht\n\n\n00:05:06,160 --> 00:05:17,980\nEinst, o Wunder! entbl\u00fcht Einst, o Wunder! entbl\u00fcht Einst, o Wunder! entbl\u00fcht auf meinem Grabe Eine Blume der Asche Eine Blume der Asche Eine Blume der Asche Eine Blume der Asche meines Herzens;\n\n\n00:05:17,980 --> 00:05:33,780\nEine Blume der Asche Eine Blume der Asche meines Herzens; Deutlich schimmert auf jedem Deutlich schimmert auf jedem Deutlich schimmert auf jedem Deutlich schimmert auf jedem Purpurbl\u00e4ttchen: Deutlich schimmert auf jedem Deutlich schimmert auf jedem Purpurbl\u00e4ttchen:\n\n\n00:05:36,160 --> 00:05:55,740\nAdelaide! Deutlich schimmert auf jedem Deutlich schimmert auf jedem Deutlich schimmert auf jedem Purpurbl\u00e4ttchen: Deutlich schimmert auf jedem Deutlich schimmert auf jedem Purpurbl\u00e4ttchen:\n\n\n00:05:55,740 --> 00:06:05,740\nAdelaide!\n\n\n00:06:06,160 --> 00:06:20,160\nAdelaide!\n";

    const subtitlesContainer = document.getElementById('subtitles');
    const video = document.getElementById('video');

    // Parse SRT
    function parseSRT(srt) {
      const subtitles = [];
      const lines = srt.split('\n');
      let subtitle = { start: null, end: null, text: '' };

      lines.forEach((line) => {
        const timeMatch = line.match(/(\d{2}:\d{2}:\d{2}),(\d{3}) --> (\d{2}:\d{2}:\d{2}),(\d{3})/);
        if (timeMatch) {
          if (subtitle.text) subtitles.push(subtitle);
          subtitle = {
            start: timeToSeconds(timeMatch[1], timeMatch[2]),
            end: timeToSeconds(timeMatch[3], timeMatch[4]),
            text: ''
          };
        } else if (line.trim() === '') {
          if (subtitle.text) subtitles.push(subtitle);
          subtitle = { start: null, end: null, text: '' };
        } else {
          subtitle.text += (subtitle.text ? '\n' : '') + line;
        }
      });
      return subtitles;
    }

    function timeToSeconds(hhmmss, milliseconds) {
      const [hours, minutes, seconds] = hhmmss.split(':').map(Number);
      return hours * 3600 + minutes * 60 + seconds + milliseconds / 1000;
    }

    // // Convert parsed subtitles to WebVTT format
    // function convertToVTT(subtitles) {
    //   let vtt = 'WEBVTT\n\n';
    //   subtitles.forEach((subtitle) => {
    //     const start = secondsToVTT(subtitle.start);
    //     const end = secondsToVTT(subtitle.end);
    //     vtt += `${start} --> ${end}\n${subtitle.text}\n\n`;
    //   });
    //   return vtt;
    // }

        // Convert parsed subtitles to WebVTT format
    function convertToVTT(subtitles) {
    let vtt = 'WEBVTT\n\n'; // Ensure proper WebVTT header
    subtitles.forEach((subtitle) => {
        if (subtitle.text.trim()) { // Ignore empty or invalid subtitles
        const start = secondsToVTT(subtitle.start);
        const end = secondsToVTT(subtitle.end);
        vtt += `${start} --> ${end}\n${subtitle.text.trim()}\n\n`;
        }
    });
    return vtt;
    }

    function secondsToVTT(seconds) {
      const hh = String(Math.floor(seconds / 3600)).padStart(2, '0');
      const mm = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
      const ss = String(Math.floor(seconds % 60)).padStart(2, '0');
      const ms = String(Math.floor((seconds % 1) * 1000)).padStart(3, '0');
      return `${hh}:${mm}:${ss}.${ms}`;
    }

    // Generate subtitle list
    function generateSubtitleList(subtitles) {
      subtitles.forEach((subtitle) => {
        const div = document.createElement('div');
        div.className = 'subtitle';
        const link = document.createElement('a');
        link.href = '#';
        link.textContent = subtitle.text;
        link.onclick = (e) => {
          e.preventDefault();
          video.currentTime = subtitle.start;
          video.play();
        };
        div.appendChild(link);
        subtitlesContainer.appendChild(div);
      });
    }

    // Add VTT track to video
    function addTrackToVideo(vttData) {
      const blob = new Blob([vttData], { type: 'text/vtt' });
      const url = URL.createObjectURL(blob);
      const track = document.getElementById('subtitle-track');
      track.src = url;
    }

    // Main execution
    const subtitles = parseSRT(srtData);
    const vttData = convertToVTT(subtitles);
    addTrackToVideo(vttData);
    generateSubtitleList(subtitles);
  </script>
</body>
</html>

